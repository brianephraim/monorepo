{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0578c6d9fb89e3812c72","webpack:///./webpackCompile.js","webpack:///external \"child_process\"","webpack:///external \"fs-extra\"","webpack:///external \"path\"","webpack:///external \"webpack\"","webpack:///external \"webpack-node-externals\"","webpack:///external \"yargs\"","webpack:///./dev_env.js","webpack:///./parseRequestResolvePlugin.js","webpack:///./parseStatsForDependencyProblems.js","webpack:///./shell-command.js","webpack:///./testSetup.js","webpack:///./webpack-config-resolve.js","webpack:///./webpackBuild.js","webpack:///./webpackConfigNodeBundle.js","webpack:///./webpackExpressServer.js","webpack:///./webpack.config.babel.js","webpack:///external \"directory-named-webpack-plugin\"","webpack:///external \"express\"","webpack:///external \"extract-text-webpack-plugin\"","webpack:///external \"globby\"","webpack:///external \"html-webpack-plugin\"","webpack:///external \"node-sass-json-importer\"","webpack:///external \"string-replace-webpack-plugin\"","webpack:///external \"url\"","webpack:///external \"validate-npm-package-name\"","webpack:///external \"webpack-dev-middleware\""],"names":["isDev","compiler","activeWebpackDevMiddleware","publicPath","output","stats","colors","waitUntilValid","env","item","console","log","entry","parseRequestResolvePlugin","parseRequest","apply","resolver","plugin","request","callback","newRequestStr","obj","Object","assign","doResolve","module","exports","ensureTrailingSlash","str","replace","ensureReadJsonSync","packageDotJsonPath","packageDotJsonContent","readJsonSync","e","showProblemsInConsole","problems","keys","length","info","forEach","moduleResource","depName","problemMsg","msg","problemInfo","join","findDependenciesProblems","dependencies","dep","rawRequest","indexOf","validationResult","validForNewPackages","devDependencies","warnings","errors","filter","parseStatsForDependencyProblems","shouldShowProblemsInConsole","isMonorepo","existsSync","process","cwd","packageDotJsonCache","compilation","modules","resource","packagesDir","packageFolderName","split","packageSomehowPublic","private","privateFromGithub","depProblems","commandToRun","command","args","childProcess","require","proc","spawn","stdio","on","code","signal","kill","pid","exit","__dirname","DirectoryNamedWebpackPlugin","path","resolve","extensions","plugins","requestStr","run","err","error","stack","details","toJson","hasErrors","hasWarnings","w","warn","target","node","__filename","externals","modulesFromFile","app","port","appIsBrandNew","use","req","res","next","urlSplit","parse","url","pathname","lastPart","lastPartContainsDot","lastPartContainsDotHtml","static","listen","devHtmlPath","generateConfigJson","isCommandLine","dirRoot","dirroot","packageJson","bundleForNode","isBuild","username","repository","libraryName","name","libraryNameReduced","pluginRegistry","registerPlugin","push","conditionalExtractTextLoaderCss","usePlugin","moreLoaderParams","extract","fallback","outputFiles","library","libraryMin","demo","entryFiles","MainApp","sync","reduce","accum","entryName","moveModify","source","modifyPath","modifyContent","sources","toCopy","pattern","filePath","filePathOut","content","readFileSync","outputFileSync","optimize","UglifyJsPlugin","include","minimize","templatePath","htmlTemplateExists","indexHtmlSettings","chunks","template","title","filename","LoaderOptionsPlugin","options","sassLoader","importer","context","libraryTarget","umdNamedDefine","main","pop","config","devtool","rules","test","loader","exclude","loaders","replacements","replacement","writeFileSync","JSON","stringify"],"mappings":"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","file":"dist/dev_env.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"child_process\"), require(\"fs-extra\"), require(\"path\"), require(\"webpack\"), require(\"webpack-node-externals\"), require(\"yargs\"), require(\"directory-named-webpack-plugin\"), require(\"express\"), require(\"extract-text-webpack-plugin\"), require(\"globby\"), require(\"html-webpack-plugin\"), require(\"node-sass-json-importer\"), require(\"string-replace-webpack-plugin\"), require(\"url\"), require(\"validate-npm-package-name\"), require(\"webpack-dev-middleware\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@defualt/dev_env\", [\"child_process\", \"fs-extra\", \"path\", \"webpack\", \"webpack-node-externals\", \"yargs\", \"directory-named-webpack-plugin\", \"express\", \"extract-text-webpack-plugin\", \"globby\", \"html-webpack-plugin\", \"node-sass-json-importer\", \"string-replace-webpack-plugin\", \"url\", \"validate-npm-package-name\", \"webpack-dev-middleware\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@defualt/dev_env\"] = factory(require(\"child_process\"), require(\"fs-extra\"), require(\"path\"), require(\"webpack\"), require(\"webpack-node-externals\"), require(\"yargs\"), require(\"directory-named-webpack-plugin\"), require(\"express\"), require(\"extract-text-webpack-plugin\"), require(\"globby\"), require(\"html-webpack-plugin\"), require(\"node-sass-json-importer\"), require(\"string-replace-webpack-plugin\"), require(\"url\"), require(\"validate-npm-package-name\"), require(\"webpack-dev-middleware\"));\n\telse\n\t\troot[\"@defualt/dev_env\"] = factory(root[\"child_process\"], root[\"fs-extra\"], root[\"path\"], root[\"webpack\"], root[\"webpack-node-externals\"], root[\"yargs\"], root[\"directory-named-webpack-plugin\"], root[\"express\"], root[\"extract-text-webpack-plugin\"], root[\"globby\"], root[\"html-webpack-plugin\"], root[\"node-sass-json-importer\"], root[\"string-replace-webpack-plugin\"], root[\"url\"], root[\"validate-npm-package-name\"], root[\"webpack-dev-middleware\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_17__, __WEBPACK_EXTERNAL_MODULE_18__, __WEBPACK_EXTERNAL_MODULE_19__, __WEBPACK_EXTERNAL_MODULE_20__, __WEBPACK_EXTERNAL_MODULE_21__, __WEBPACK_EXTERNAL_MODULE_22__, __WEBPACK_EXTERNAL_MODULE_23__, __WEBPACK_EXTERNAL_MODULE_24__, __WEBPACK_EXTERNAL_MODULE_25__, __WEBPACK_EXTERNAL_MODULE_26__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 27);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0578c6d9fb89e3812c72","import webpack from 'webpack';\nimport webpackDevMiddleware from 'webpack-dev-middleware';\n\nimport webpackConfig from './webpack.config.babel';\nimport parseStatsForDependencyProblems from './parseStatsForDependencyProblems';\n\nexport default (isDev) => {\n  const compiler = webpack(webpackConfig);\n  if (isDev) {\n    const activeWebpackDevMiddleware = webpackDevMiddleware(compiler, {\n      publicPath: webpackConfig.output.publicPath,\n      stats: {\n        colors: true,\n      },\n    });\n    activeWebpackDevMiddleware.waitUntilValid((stats) => {\n      parseStatsForDependencyProblems(stats);\n    });\n\n    return activeWebpackDevMiddleware;\n  }\n  return compiler;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./webpackCompile.js","module.exports = require(\"child_process\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"child_process\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"webpack-node-externals\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-node-externals\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"yargs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"yargs\"\n// module id = 6\n// module chunks = 0","/* eslint-disable no-console */\nimport { argv } from 'yargs';\nimport shellCommand from './shell-command';\nimport testSetup from './testSetup';\nimport webpackBuild from './webpackBuild';\nimport serve from './webpackExpressServer.js';\n\nconst env = argv.env;\nconst item = argv.item;\n\nif (item) {\n  console.log('aaaa', argv);\n  shellCommand(`(cd ./packages/${item} && npm run start)`);\n} else if (env === 'test') {\n  testSetup();\n} else {\n  if (env === 'build' || argv.entry) {\n    webpackBuild();\n  } else {\n    serve();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dev_env.js","/* eslint-disable func-names */\nfunction parseRequestResolvePlugin(parseRequest = () => {}) {\n  return {\n    apply(resolver) {\n      // I don't know why 'module' or 'resolve' are those values.\n      // Something to do with the the way they are used in this file:\n      // https://github.com/webpack/enhanced-resolve/blob/master/lib/ResolverFactory.js\n      // So they can be other values as seen in that file.\n      resolver.plugin(/* 'modules'*/ 'resolve', function (request, callback) {\n        const newRequestStr = parseRequest(request.request);\n        if (newRequestStr && newRequestStr !== request.request) {\n          const obj = Object.assign({}, request, {\n            request: newRequestStr,\n          });\n          this.doResolve('resolve', obj, 'blah blah', callback);\n        } else {\n          callback();\n        }\n      });\n    },\n  };\n}\n\nmodule.exports = parseRequestResolvePlugin;\n\n\n\n// WEBPACK FOOTER //\n// ./parseRequestResolvePlugin.js","/* eslint-disable no-console */\nimport fs from 'fs-extra';\nimport validateNpmPackageName from 'validate-npm-package-name';\n\nfunction ensureTrailingSlash(str) {\n  return str.replace(/\\/?$/, '/');\n}\n\nfunction ensureReadJsonSync(packageDotJsonPath) {\n  let packageDotJsonContent;\n  try {\n    packageDotJsonContent = fs.readJsonSync(packageDotJsonPath);\n  } catch (e) {\n    packageDotJsonContent = {};\n  }\n  return packageDotJsonContent;\n}\n\nfunction showProblemsInConsole(problems) {\n  if (Object.keys(problems).length) {\n    console.info('\\x1b[1m', '\\nProblems with dependencies', '\\x1b[0m');\n  }\n  Object.keys(problems).forEach((moduleResource) => {\n    console.info('\\x1b[36m', '\\nProblem in module with `import` statement:', '\\x1b[0m');\n    console.info('\\x1b[37m', ` ${moduleResource}`, '\\x1b[0m');\n    Object.keys(problems[moduleResource]).forEach((depName) => {\n      const problemMsg = problems[moduleResource][depName].msg;\n      console.info('\\x1b[33m', 'Dependency requested as:', '\\x1b[0m');\n      console.info('\\x1b[37m', ` ${depName}`, '\\x1b[0m');\n      console.info('\\x1b[33m', `Message: ${problemMsg}`, '\\x1b[0m');\n      const problemInfo = problems[moduleResource][depName].info;\n      if (problemInfo) {\n        console.info('\\x1b[37m', `- ${problemInfo.join('\\n - ')}`, '\\x1b[0m');\n      }\n    });\n  });\n}\n\nfunction findDependenciesProblems(dependencies, packageDotJsonContent) {\n  const problems = {};\n\n  dependencies.forEach((dep) => {\n    if (dep.module) {\n      const rawRequest = dep.module.rawRequest;\n      // if (rawRequest.indexOf('/Users/brianephraim/Sites/monorepo/packages') === 0) {\n      //   console.info('\\x1b[33m', 'depWTF', rawRequest, '\\x1b[0m');\n      //   console.log('depWTF', dep);\n      // } else {\n      //   console.info('\\x1b[33m', 'depGGG', rawRequest, '\\x1b[0m');\n      //   console.log('depGGG', dep);\n      // }\n\n      // not a relative dependency\n      // not an absolut dependency\n      // we are only concerned with depenencies referenced like\n      // `import asdf from 'asdf';`\n      // or\n      // `import qwer from 'asdf/qwer';``\n      // or\n      // `import asdf from '@defualt/asdf';``\n      // These dependencies will be either in /node_modules/ or /packages/,\n      // the latter for only monorepo use.\n      if (rawRequest && rawRequest.indexOf('.') !== 0 && rawRequest.indexOf('/') !== 0) {\n        const validationResult = validateNpmPackageName(rawRequest);\n        if (validationResult.validForNewPackages) {\n          if (\n            !packageDotJsonContent ||\n            (\n              (\n                !packageDotJsonContent.dependencies ||\n                !packageDotJsonContent.dependencies[rawRequest]\n              ) &&\n              (\n                !packageDotJsonContent.devDependencies ||\n                !packageDotJsonContent.devDependencies[rawRequest]\n              )\n            )\n          ) {\n            problems[rawRequest] = { msg: 'MISSING FROM PACKAGE.JSON' };\n          }\n        } else {\n          const info = [\n            ...validationResult.warnings || [], ...validationResult.errors || [],\n          ].filter((msg) => {\n            return msg !== 'name can only contain URL-friendly characters';\n          });\n          // console.log(validationResult);\n          if (info.length) {\n            problems[rawRequest] = {\n              msg: 'BAD FORMATTING',\n              info: [...validationResult.warnings || [], ...validationResult.errors || []],\n            };\n          }\n        }\n      }\n    }\n  });\n\n  return Object.keys(problems).length ? problems : null;\n}\n\nfunction parseStatsForDependencyProblems(stats, shouldShowProblemsInConsole = true) {\n  const isMonorepo = fs.existsSync(`${process.cwd()}/packages`);\n\n  const packageDotJsonCache = {};\n  const problems = {};\n  stats.compilation.modules.forEach((module) => {\n    // only concerned with module entries from /packages/ folder (not node_modules)\n    if (\n      module.resource &&\n      module.resource.indexOf('node_modules') === -1\n    ) {\n      let packageDotJsonPath;\n      if (isMonorepo) {\n        let packagesDir = `${process.cwd()}/packages`;\n        packagesDir = ensureTrailingSlash(packagesDir);\n        // get substring from first trailing slash after whatever packagesDir is\n        const packageFolderName = module.resource.split(packagesDir)[1].split('/')[0];\n        packageDotJsonPath = `${packagesDir}${packageFolderName}/package.json`;\n      } else {\n        packageDotJsonPath = `${process.cwd()}/package.json`;\n      }\n\n      const packageDotJsonContent = (\n        packageDotJsonCache[packageDotJsonPath] || ensureReadJsonSync(packageDotJsonPath)\n      );\n      packageDotJsonCache[packageDotJsonPath] = packageDotJsonContent;\n\n      const packageSomehowPublic = (\n        !packageDotJsonContent.private ||\n        !packageDotJsonContent.privateFromGithub\n      );\n\n      // only concerned if module's package.json is not empty,\n      // and if it is public on either NPM or Girhub\n      if (Object.keys(packageDotJsonContent).length && packageSomehowPublic) {\n        const depProblems = findDependenciesProblems(module.dependencies, packageDotJsonContent);\n        if (depProblems) {\n          problems[module.resource] = depProblems;\n        }\n      }\n    }\n  });\n  if (Object.keys(problems).length > 0 && shouldShowProblemsInConsole) {\n    showProblemsInConsole(problems);\n  }\n\n  return problems;\n}\n\nexport default parseStatsForDependencyProblems;\n\n\n\n// WEBPACK FOOTER //\n// ./parseStatsForDependencyProblems.js","/* eslint-disable global-require */\n/*\n  This file used in 2 places\n    1.  This file is executed by the monorepo serving as the monorepo's dev environment.\n        (Only the monorepo uses dev_env like this. When the monorepo's packages are scattered\n        into individual repos, each individual repo has a dev_env dependency\n        in its node_modules folder,\n        but this dev_env is executed from a compiled version of the dev_env.\n        This is called from the individual repo's ./node_modules/.bin/devenv,\n        which points to ./node_modules/@defualt/dev_env/dist/dev_env.js.)\n    2.  This file is executed during the npm prepublish, which creates the /dist folder\n        mentioned in (1) above.\n*/\nmodule.exports = (commandToRun) => {\n  const command = 'sh';\n  const args = [\n    '-c',\n    commandToRun,\n  ];\n  //\n  // kexec doesn't work in windows, so fallback to child_process.spawn\n  // this logic copied from babel-cli/lib/babel-node.js\n  // try {\n  //   const kexec = require('kexec');\n  //   kexec(command, args);\n  // } catch (err) {\n    // if (err.code !== 'MODULE_NOT_FOUND') throw err;\n\n  const childProcess = require('child_process');\n  const proc = childProcess.spawn(command, args, { stdio: 'inherit' });\n  proc.on('exit', (code, signal) => {\n    process.on('exit', () => {\n      if (signal) {\n        process.kill(process.pid, signal);\n      } else {\n        process.exit(code);\n      }\n    });\n  });\n  // }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./shell-command.js","/* eslint-disable camelcase */\nimport child_process from 'child_process';\n\nexport default () => {\n  const command = 'sh';\n\n  const args = [\n    '-c',\n    // Why `CI=true `? ----- https://github.com/facebook/jest/issues/2959\n    `CI=true ${process.cwd()}/node_modules/.bin/jest --watch --config=${__dirname}/jest.config.js`,\n  ];\n\n  const proc = child_process.spawn(command, args, { stdio: 'inherit' });\n  proc.on('exit', (code, signal) => {\n    process.on('exit', () => {\n      if (signal) {\n        process.kill(process.pid, signal);\n      } else {\n        process.exit(code);\n      }\n    });\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./testSetup.js","const DirectoryNamedWebpackPlugin = require('directory-named-webpack-plugin');\nconst parseRequestResolvePlugin = require('./parseRequestResolvePlugin');\nconst path = require('path');\n\nmodule.exports = {\n  resolve: {\n    modules: [\n      path.resolve('./src/library'),\n      path.resolve(process.cwd(), 'packages'),\n      path.resolve(process.cwd(), '../../packages'),\n      'node_modules',\n    ],\n    extensions: [\n      '.js',\n\n      // Why is this here? : https://github.com/npm/normalize-package-data/issues/88\n      // Issue only appeard when webpack run on command line for Node bundle\n      '.json',\n    ],\n    plugins: [\n      parseRequestResolvePlugin((requestStr) => {\n        if (requestStr.indexOf('@') === 0 && requestStr.indexOf('/') !== -1) {\n          return requestStr.split('/')[1];\n        }\n        return false;\n      }),\n      new DirectoryNamedWebpackPlugin(true),\n    ],\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./webpack-config-resolve.js","import webpackCompile from './webpackCompile';\n\nexport default () => {\n  webpackCompile().run((err, stats) => {\n    // parseStatsForDependencyProblems(stats);\n    // fs.writeFileSync(process.cwd() + '/_webpack_stats.json',JSON.stringify(stats, null, 2));\n\n    if (err) {\n      console.error(err.stack || err);\n      if (err.details) {\n        console.error(err.details);\n      }\n      return;\n    }\n\n    const info = stats.toJson();\n\n    if (stats.hasErrors()) {\n      info.errors.forEach((e) => {\n        console.error('\\x1b[31m', e, '\\x1b[0m');\n      });\n    }\n\n    if (stats.hasWarnings()) {\n      info.warnings.forEach((w) => {\n        console.warn('\\x1b[33m', w, '\\x1b[0m');\n      });\n    }\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./webpackBuild.js","import nodeExternals from 'webpack-node-externals';\n\nexport default {\n  target: 'node',\n  node: {\n    __dirname: false,\n    __filename: false,\n  },\n  externals: [\n    nodeExternals({ modulesFromFile: true }),\n    // ...(argv.entry ? {\n    //   'yargs': 'commonjs yargs',\n    //   'socket.io': 'commonjs socket.io',\n    //   'webpack': 'commonjs webpack',\n    //   'html-webpack-plugin': 'commonjs html-webpack-plugin',\n    //   'any-promise': 'commonjs any-promise',\n    //   'natives': 'commonjs natives',\n    //    'chokidar': 'commonjs chokidar'\n    // }: )\n  ],\n};\n\n\n\n// WEBPACK FOOTER //\n// ./webpackConfigNodeBundle.js","import express from 'express';\nimport url from 'url';\nimport webpackCompile from './webpackCompile';\n\nexport default (app, port = 3000) => {\n  let appIsBrandNew = false;\n  if (!app) {\n    appIsBrandNew = true;\n    app = express();\n  }\n  app.use((req, res, next) => {\n    const urlSplit = url.parse(req.url).pathname.split('/');\n    const lastPart = urlSplit[urlSplit.length - 1];\n    const lastPartContainsDot = lastPart.indexOf('.') !== -1;\n    const lastPartContainsDotHtml = lastPart.indexOf('.html') !== -1;\n    if (!lastPartContainsDot || lastPartContainsDotHtml) {\n      req.url = '/';\n    }\n    next();\n  });\n\n  console.info('🔷 Starting webpack ...');\n\n  app.use(webpackCompile(true));\n\n  app.use('/images', express.static('packages/images'));\n  app.use('/fonts', express.static('packages/fonts'));\n  // app.get(new RegExp('^[/](images|fonts)[/](.+)'), (req, res) => {\n  //   res.sendFile(path.join(__dirname, `packages${url.parse(req.url).pathname}`));\n  // });\n\n  // app.get('/*', (req, res) => {\n  //   console.log(url.parse(req.url).pathname);\n  //   res.sendFile(path.join(process.cwd(), 'index.html'));\n  // });\n\n  // app.get(new RegExp('/^\\/(.*)\\.html$'), (req, res) => {\n  //   res.sendFile(path.join(process.cwd(), 'index.html'));\n  // });\n  if (appIsBrandNew) {\n    app.listen(port, (error) => {\n      if (error) {\n        console.error(error);\n      } else {\n        console.info(\n          '🌎 Listening on port %s. Open up http://localhost:%s/ in your browser.',\n          port,\n          port,\n        );\n      }\n    });\n  }\n\n  return app;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./webpackExpressServer.js","/*\n  This files return a function that when called generates a webpack config json.\n  `argv` is passed into this function.\n\n  when `argv.env === falsey`\n    This compiles for a dev server via webpack-dev-middleware.  No files are created to disk,\n    only created in memory.\n\n  when `argv.env === 'build'`\n    This compiles files to disk in a /dist folder and a /demo folder.\n\n  when `argv.dirroot === some path`\n    This is used when dev_env itself is compiled.\n    This very file is compiled according the config set by this file.\n    This is needed to make dev_env portable via npm.\n    babel-node needs to compile this dev_env to work,\n    but this does not play well when dev_env is in a node_modules folder.\n    So we need to compile dev_env before publishing to npm.\n    Directory paths need to be tweaked to accomplish this,\n    and that's what `argv.dirroot` helps with.\n\n\n  This function is also affected by package.json.\n\n  when package.json.bundleForNode === true\n    in conjunction with `argv.env === 'build'`, the bundle will\n    have special consideration for a node platform.\n    Only application files will be bundled.\n    node_modules and node built-in requires will not be bundled.\n*/\nimport path from 'path';\nimport { argv } from 'yargs';\nimport StringReplacePlugin from 'string-replace-webpack-plugin';\nimport webpack from 'webpack';\nimport jsonImporter from 'node-sass-json-importer';\nimport ExtractTextPlugin from 'extract-text-webpack-plugin';\nimport HtmlWebpackPlugin from 'html-webpack-plugin';\nimport nodeExternals from 'webpack-node-externals';\nimport globby from 'globby';\nimport fs from 'fs-extra';\nimport webpackConfigResolve from './webpack-config-resolve';\nimport webpackConfigNodeBundle from './webpackConfigNodeBundle';\n\n\nconst devHtmlPath = './index.html';\n\nconsole.log(argv);\n\n// console.log(process.cwd());\n// // console.log(argv);\n// console.log({\n//   entry: path.resolve(process.cwd(), argv.entry),\n//   output: path.resolve(process.cwd(), argv.output),\n// });\n\nfunction generateConfigJson() {\n  const env = argv.env;\n\n  const isCommandLine = argv.entry;\n\n  let dirRoot = argv.dirroot || process.cwd();\n\n  if (argv.entry) {\n    dirRoot = '/Users/brianephraim/Sites/monorepo/packages/dev_env';\n  }\n\n  const packageJson = fs.readJsonSync(`${dirRoot}/package.json`);\n\n  const bundleForNode = packageJson.bundleForNode || isCommandLine;\n  const isBuild = env === 'build' || isCommandLine;\n\n  let username = null;\n  if (packageJson.repository && packageJson.repository.url) {\n    username = packageJson.repository.url.replace('://').split('/')[1];\n  }\n\n  const libraryName = packageJson.name;\n  const libraryNameReduced = libraryName.split('/')[1] || libraryName.split('/')[0];\n\n  const plugins = [];\n  const pluginRegistry = {};\n  function registerPlugin(name, plugin) {\n    if (!pluginRegistry[name]) {\n      plugins.push(plugin);\n      pluginRegistry[name] = true;\n      return true;\n    }\n    return false;\n  }\n\n  function conditionalExtractTextLoaderCss(usePlugin, moreLoaderParams) {\n    if (usePlugin) {\n      registerPlugin('ExtractTextPlugin', new ExtractTextPlugin('[name].css'));\n      return { use: ExtractTextPlugin.extract(moreLoaderParams) };\n    }\n    return {\n      use: [moreLoaderParams.fallback, ...moreLoaderParams.use],\n    };\n  }\n  const outputFiles = {};\n  if (isBuild) {\n    outputFiles.library = `dist/${libraryNameReduced}`;\n    outputFiles.libraryMin = `dist/${libraryNameReduced}.min`;\n    outputFiles.demo = 'dist/demo/index';\n  } else {\n    outputFiles.demo = 'boot';\n    outputFiles.library = `${libraryNameReduced}`;\n  }\n  const entryFiles = {\n    MainApp: globby.sync([`${dirRoot}/packages/MainApp/MainApp.js`]),\n    [outputFiles.library]: globby.sync([\n      `${dirRoot}/${libraryNameReduced}.js`,\n      `${dirRoot}/src/library/index.js`,\n    ]),\n    ...(\n      outputFiles.libraryMin ? {\n        [outputFiles.libraryMin]: globby.sync([`${dirRoot}/src/library/index.js`]),\n      } : {}\n    ),\n    [outputFiles.demo]: globby.sync([\n      `${dirRoot}/*.demo.js`,\n      `${dirRoot}/demo.js`,\n      `${dirRoot}/**/*/*.demo.js`,\n      `${dirRoot}/**/*/demo.js`,\n      `!${dirRoot}/packages/**/*`,\n      `${dirRoot}/packages/MainApp/MainApp.js`,\n    ]),\n  };\n  let entry = Object.keys(entryFiles).reduce((accum, entryName) => {\n    if (entryFiles[entryName].length) {\n      accum[entryName] = entryFiles[entryName];\n    }\n    return accum;\n  }, {});\n\n  function moveModify(source, modifyPath, modifyContent) {\n    let sources = [];\n    if (typeof source === 'object') {\n      sources = source;\n    } else {\n      sources.push(source);\n    }\n    let toCopy = [];\n    sources.forEach((pattern) => {\n      toCopy = [\n        ...toCopy,\n        ...globby.sync(pattern),\n      ];\n    });\n    toCopy.forEach((filePath) => {\n      let filePathOut = filePath;\n      if (modifyPath) {\n        filePathOut = modifyPath(filePath);\n      }\n      let content = fs.readFileSync(filePath, 'utf8');\n      if (modifyContent) {\n        content = modifyContent(content, filePath, filePathOut);\n      }\n      fs.outputFileSync(filePathOut, content);\n    });\n  }\n\n  if (!isCommandLine) {\n    if (isBuild) {\n      moveModify(['src/import-examples/**/!(webpack.config).*', 'src/tonicExample.js'], (filePath) => {\n        return filePath.replace('src/', './');\n      },\n      (content) => {\n        return content.replace(/LIBRARYNAME/g, libraryName);\n      });\n\n      registerPlugin('UglifyJsPlugin', new webpack.optimize.UglifyJsPlugin({\n        include: /\\.min\\.js$/,\n        minimize: true,\n      }));\n\n      const templatePath = 'src/demo/index.ejs';\n      const htmlTemplateExists = fs.existsSync(templatePath);\n      const indexHtmlSettings = {\n        chunks: [outputFiles.demo],\n        ...(\n          htmlTemplateExists ? { template: templatePath } : {}\n        ),\n        title: 'afasdfasdfasd',\n        username,\n        libraryName,\n      };\n      registerPlugin('demoIndex-HtmlWebpackPlugin', new HtmlWebpackPlugin({\n        filename: './dist/demo/index.html',\n        ...indexHtmlSettings,\n      }));\n    } else {\n      registerPlugin('demoDevIndex-HtmlWebpackPlugin', new HtmlWebpackPlugin({\n        chunks: [outputFiles.demo],\n        filename: devHtmlPath,\n      }));\n    }\n  }\n  registerPlugin('StringReplacePlugin', new StringReplacePlugin());\n\n  registerPlugin('LoaderOptionsPlugin', new webpack.LoaderOptionsPlugin({\n    options: {\n      sassLoader: {\n        importer: jsonImporter,\n      },\n      context: dirRoot,\n    },\n  }));\n\n  let output = {\n    path: `${dirRoot}`,\n    filename: '[name].js',\n    library: libraryName,\n    libraryTarget: 'umd',\n    umdNamedDefine: true,\n    publicPath: '/',\n    // publicPath: '/assets/',\n  };\n\n  if (isCommandLine) {\n    entry = {\n      main: argv.entry,\n    };\n\n    // output = '/Users/brianephraim/Sites/monorepo/packages/dev_env/wepback.start.temp.js';\n    // output = path.resolve(process.cwd(), argv.output);\n    // output = output.split('/');\n    // output = {\n    //   filename: output.pop(),\n    //   path: output.join('/'),\n    //   library: libraryName,\n    //   libraryTarget: 'umd',\n    //   umdNamedDefine: true,\n    //   publicPath: '/',\n    // };\n\n    // output = {\n    //   filename: 'wepback.start.temp.js',\n    //   path: '/Users/brianephraim/Sites/monorepo/packages/dev_env/',\n    //   library: libraryName,\n    //   libraryTarget: 'umd',\n    //   umdNamedDefine: true,\n    //   publicPath: '/',\n    // };\n\n    output = argv.output;\n    output = output.split('/');\n\n    output = {\n      filename: output.pop(),\n      path: output.join('/'),\n      library: libraryName,\n      libraryTarget: 'umd',\n      umdNamedDefine: true,\n      publicPath: '/',\n    };\n\n\n    // /Users/brianephraim/Sites/monorepo/packages/mono-to-multirepo/mono-to-multirepo.js\n  }\n\n  const config = {\n    entry,\n    output,\n    devtool: isBuild ? 'source-map' : 'cheap-module-eval-source-map',\n    module: {\n      rules: [\n        // Why is this here: https://github.com/Reactive-Extensions/RxJS/issues/1117\n        // Issue only appeard when webpack run on command line for Node bundle\n        { test: /rx\\.lite\\.aggregates\\.js/, use: 'imports-loader?define=>false' },\n\n        {\n          test: /\\.(js)?$/,\n          loader: 'babel-loader',\n          exclude: /node_modules/,\n          // include: `${dirRoot}`,\n          // options: {\n          //   presets: [\n\n          //     [\n          //       'es2015',\n          //       // needed for tree shaking\n          //       { modules: false },\n          //     ],\n          //     'react',\n          //     // 'react',\n          //   ],\n          //   plugins: [\n          //     'transform-es2015-spread',\n          //     'transform-object-rest-spread',\n          //   ],\n          //   // mocha needs .babelrc,\n          //   // and .babelrc cannot use the above config\n          //   // so ignore .babelrc here\n          //   babelrc: false,\n          // },\n        },\n        {\n          test: /\\.css$/,\n          ...conditionalExtractTextLoaderCss(isBuild, {\n            fallback: 'style-loader',\n            use: ['css-loader'],\n          }),\n        },\n        {\n          test: /\\.scss$/,\n          ...conditionalExtractTextLoaderCss(isBuild, {\n            fallback: 'style-loader',\n            use: [\n              'css-loader?sourceMap',\n              {\n                loader: 'sass-loader?sourceMap',\n                // Apply the JSON importer via sass-loader's options.\n                options: {\n                  importer: jsonImporter,\n                },\n              },\n            ],\n          }),\n        },\n        {\n          test: /\\.json$/,\n          loaders: ['json-loader'],\n        },\n        {\n          test: /\\.ejs$/,\n          loader: 'ejs-compiled-loader',\n        },\n        {\n          test: /\\.md/,\n          loaders: ['html-loader', 'markdown-loader'],\n        },\n        {\n          test: /\\.js|\\.html|\\.ejs$/,\n          exclude: [__filename],\n          loader: StringReplacePlugin.replace({\n            replacements: [{\n              pattern: /LIBRARYNAME/g,\n              replacement(/* match, p1, offset, string */) {\n                return libraryName;\n              },\n            }],\n          }),\n        },\n      ],\n    },\n    resolve: webpackConfigResolve.resolve,\n    plugins,\n    ...(\n      bundleForNode ? {\n        target: 'node',\n        node: {\n          __dirname: false,\n          __filename: false,\n        },\n        externals: [\n          nodeExternals({ modulesFromFile: true }),\n          // ...(argv.entry ? {\n          //   'yargs': 'commonjs yargs',\n          //   'socket.io': 'commonjs socket.io',\n          //   'webpack': 'commonjs webpack',\n          //   'html-webpack-plugin': 'commonjs html-webpack-plugin',\n          //   'any-promise': 'commonjs any-promise',\n          //   'natives': 'commonjs natives',\n          //    'chokidar': 'commonjs chokidar'\n          // }: )\n        ],\n      } : {}\n    ),\n  };\n\n  fs.writeFileSync('./_webpack-config-preview.json', JSON.stringify(config, null, 2));\n  return config;\n}\n\nexport default generateConfigJson();\n\n\n\n// WEBPACK FOOTER //\n// ./webpack.config.babel.js","module.exports = require(\"directory-named-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"directory-named-webpack-plugin\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"extract-text-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"extract-text-webpack-plugin\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"globby\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"globby\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"html-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"html-webpack-plugin\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"node-sass-json-importer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-sass-json-importer\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"string-replace-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"string-replace-webpack-plugin\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"url\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"validate-npm-package-name\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"validate-npm-package-name\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"webpack-dev-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-dev-middleware\"\n// module id = 26\n// module chunks = 0"],"sourceRoot":""}