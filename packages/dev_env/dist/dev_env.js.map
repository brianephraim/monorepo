{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c615d23db419162af6d4","webpack:///external \"fs-extra\"","webpack:///external \"webpack\"","webpack:///./dev_env.js","webpack:///./testSetup.js","webpack:///./webpack.start.js","webpack:///./generate.webpack.config.babel.js","webpack:///external \"child_process\"","webpack:///external \"directory-named-webpack-plugin\"","webpack:///external \"express\"","webpack:///external \"extract-text-webpack-plugin\"","webpack:///external \"globby\"","webpack:///external \"html-webpack-plugin\"","webpack:///external \"node-sass-json-importer\"","webpack:///external \"path\"","webpack:///external \"stats-webpack-plugin\"","webpack:///external \"string-replace-webpack-plugin\"","webpack:///external \"url\"","webpack:///external \"util\"","webpack:///external \"validate-npm-package-name\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-node-externals\"","webpack:///external \"yargs\""],"names":["command","configJSONString","JSON","stringify","testMatch","args","process","cwd","__dirname","proc","child_process","spawn","stdio","on","code","signal","kill","pid","exit","env","argv","doWebpack","doTest","testSetup","app","express","port","config","generateWebpackConfig","compiler","webpack","run","err","console","warn","use","req","res","next","urlSplit","url","parse","pathname","split","lastPart","length","lastPartContainsDot","indexOf","lastPartContainsDotHtml","info","activeWebpackDevMiddleware","webpackDevMiddleware","publicPath","output","stats","colors","waitUntilValid","packageDotJsonCache","packageDepsCache","toWrite","problems","registerProblem","module","dep","problem","compilation","modules","forEach","resource","resourceSplit","packageFolder","packageDotJsonPath","packageDotJsonContent","packageDotJsonDeps","fs","readJsonSync","e","Object","assign","dependencies","devDependencies","name","private","privateFromGithub","slimModule","context","rawRequest","depsSummary","validationResult","validateNpmPackageName","depToPush","validForNewPackages","push","keys","moduleResource","log","depName","problemMsg","writeFileSync","static","listen","error","devHtmlPath","dirRoot","dirroot","packageJson","username","repository","replace","libraryName","libraryNameReduced","plugins","pluginRegistry","registerPlugin","plugin","conditionalExtractTextLoaderCss","usePlugin","moreLoaderParams","ExtractTextPlugin","extract","fallback","outputFiles","library","libraryMin","demo","entryFiles","MainApp","globby","sync","entry","reduce","accum","entryName","moveModify","source","modifyPath","modifyContent","sources","toCopy","pattern","filePath","filePathOut","content","readFileSync","outputFileSync","optimize","UglifyJsPlugin","include","minimize","indexHtmlSettings","chunks","template","title","filename","chunkModules","exclude","LoaderOptionsPlugin","options","sassLoader","importer","jsonImporter","devtool","path","libraryTarget","umdNamedDefine","rules","test","loader","presets","babelrc","loaders","__filename","StringReplacePlugin","replacements","replacement","resolve","extensions","target","node","externals","nodeExternals","modulesFromFile"],"mappings":"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","file":"dist/dev_env.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"fs-extra\"), require(\"webpack\"), require(\"child_process\"), require(\"directory-named-webpack-plugin\"), require(\"express\"), require(\"extract-text-webpack-plugin\"), require(\"globby\"), require(\"html-webpack-plugin\"), require(\"node-sass-json-importer\"), require(\"path\"), require(\"stats-webpack-plugin\"), require(\"string-replace-webpack-plugin\"), require(\"url\"), require(\"util\"), require(\"validate-npm-package-name\"), require(\"webpack-dev-middleware\"), require(\"webpack-node-externals\"), require(\"yargs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@defualt/dev_env\", [\"fs-extra\", \"webpack\", \"child_process\", \"directory-named-webpack-plugin\", \"express\", \"extract-text-webpack-plugin\", \"globby\", \"html-webpack-plugin\", \"node-sass-json-importer\", \"path\", \"stats-webpack-plugin\", \"string-replace-webpack-plugin\", \"url\", \"util\", \"validate-npm-package-name\", \"webpack-dev-middleware\", \"webpack-node-externals\", \"yargs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@defualt/dev_env\"] = factory(require(\"fs-extra\"), require(\"webpack\"), require(\"child_process\"), require(\"directory-named-webpack-plugin\"), require(\"express\"), require(\"extract-text-webpack-plugin\"), require(\"globby\"), require(\"html-webpack-plugin\"), require(\"node-sass-json-importer\"), require(\"path\"), require(\"stats-webpack-plugin\"), require(\"string-replace-webpack-plugin\"), require(\"url\"), require(\"util\"), require(\"validate-npm-package-name\"), require(\"webpack-dev-middleware\"), require(\"webpack-node-externals\"), require(\"yargs\"));\n\telse\n\t\troot[\"@defualt/dev_env\"] = factory(root[\"fs-extra\"], root[\"webpack\"], root[\"child_process\"], root[\"directory-named-webpack-plugin\"], root[\"express\"], root[\"extract-text-webpack-plugin\"], root[\"globby\"], root[\"html-webpack-plugin\"], root[\"node-sass-json-importer\"], root[\"path\"], root[\"stats-webpack-plugin\"], root[\"string-replace-webpack-plugin\"], root[\"url\"], root[\"util\"], root[\"validate-npm-package-name\"], root[\"webpack-dev-middleware\"], root[\"webpack-node-externals\"], root[\"yargs\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_17__, __WEBPACK_EXTERNAL_MODULE_18__, __WEBPACK_EXTERNAL_MODULE_19__, __WEBPACK_EXTERNAL_MODULE_20__, __WEBPACK_EXTERNAL_MODULE_21__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 22);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c615d23db419162af6d4","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 1\n// module chunks = 0","// This file is the entrypoint for webpack to compile the dev environemnt for publishing to npm.\nimport './webpack.start.js';\n\n\n\n// WEBPACK FOOTER //\n// ./dev_env.js","/* eslint-disable camelcase */\nimport child_process from 'child_process';\n\nexport default () => {\n  const command = 'sh';\n\n  const configJSONString = JSON.stringify({\n    testMatch: ['**/?(*.)(test).js?(x)'],\n  });\n  // const(`CI=true ${process.cwd()}/node_modules/.bin/jest --watch --config=${/*process.cwd()*/__dirname}/jest.config.js`);\n  const args = [\n    '-c',\n    // `${__dirname}/node_modules/.bin/jest`,\n    // `${__dirname}/node_modules/.bin/jest --config='${configJSONString}'`,\n\n    // Why `CI=true `? ----- https://github.com/facebook/jest/issues/2959\n    `CI=true ${process.cwd()}/node_modules/.bin/jest --watch --config=${__dirname}/jest.config.js`,\n  ];\n\n  const proc = child_process.spawn(command, args, { stdio: 'inherit' });\n  proc.on('exit', (code, signal) => {\n    process.on('exit', () => {\n      if (signal) {\n        process.kill(process.pid, signal);\n      } else {\n        process.exit(code);\n      }\n    });\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./testSetup.js","/* eslint-disable no-console */\nimport fs from 'fs-extra';\nimport { argv } from 'yargs';\nimport express from 'express';\nimport webpackDevMiddleware from 'webpack-dev-middleware';\nimport webpack from 'webpack';\nimport url from 'url';\nimport generateWebpackConfig from './generate.webpack.config.babel';\nimport { inspect } from 'util';\nimport validateNpmPackageName from 'validate-npm-package-name';\n\nimport testSetup from './testSetup';\n\nconst env = argv.env;\n\nconst doWebpack = true;\nconst doTest = env !== 'build';\n\nif (!doWebpack && doTest) {\n  testSetup();\n}\n\n\nif (doWebpack) {\n  const app = express();\n  const port = 3000;\n  const config = generateWebpackConfig(argv);\n  const compiler = webpack(config);\n  if (env === 'build' || env === 'node') {\n    compiler.run((err/* , stats*/) => {\n      if (err) {\n        console.warn(err);\n      } else {\n        // fs.writeFileSync(process.cwd() + '/_webpack_stats.json',JSON.stringify(stats, null, 2));\n        // console.log(stats);\n      }\n    });\n  } else {\n    if (doTest) {\n      // testSetup();\n    }\n    app.use((req, res, next) => {\n      const urlSplit = url.parse(req.url).pathname.split('/');\n      const lastPart = urlSplit[urlSplit.length - 1];\n      const lastPartContainsDot = lastPart.indexOf('.') !== -1;\n      const lastPartContainsDotHtml = lastPart.indexOf('.html') !== -1;\n      if (!lastPartContainsDot || lastPartContainsDotHtml) {\n        req.url = '/';\n      }\n      next();\n    });\n\n    console.info('🔷 Starting webpack ...');\n   \n    const activeWebpackDevMiddleware = webpackDevMiddleware(compiler, {\n      publicPath: config.output.publicPath,\n      stats: {\n        colors: true,\n      },\n    });\n    activeWebpackDevMiddleware.waitUntilValid(stats => {\n      const packageDotJsonCache = {};\n      const packageDepsCache = {};\n      // fs.writeFileSync(process.cwd()+'/stats.json', JSON.stringify(stats.compilation.modules, null, 2));\n      const toWrite = [];\n      const problems = {};\n      const registerProblem = (module, dep, problem) => {\n        if (!problems[module]) {\n          problems[module] = {};\n        }\n        problems[module][dep] = problem;\n      };\n      stats.compilation.modules.forEach((module) => {\n\n        // only concerned with module entries from /packages/ folder (not node_modules)\n        if (\n          module.resource &&\n          module.resource.indexOf(process.cwd() + '/packages') !== -1\n        ) {\n          const resourceSplit = module.resource.split('/packages/');\n          const packageFolder = resourceSplit[1].split('/')[0];\n          \n          const packageDotJsonPath = `${resourceSplit[0]}/packages/${packageFolder}/package.json`;\n\n          let packageDotJsonContent;\n          let packageDotJsonDeps;\n          if (packageDotJsonCache[packageDotJsonPath]) {\n            packageDotJsonContent = packageDotJsonCache[packageDotJsonPath];\n            packageDotJsonDeps = packageDepsCache[packageDotJsonPath];\n          } else {\n            try {\n              packageDotJsonContent = fs.readJsonSync(packageDotJsonPath);\n            } catch(e) {\n              packageDotJsonContent = {};\n            }\n            packageDotJsonCache[packageDotJsonPath] = packageDotJsonContent;\n            packageDotJsonDeps = Object.assign(\n              {},\n              packageDotJsonContent.dependencies,\n              packageDotJsonContent.devDependencies\n            );\n            packageDepsCache[packageDotJsonPath] = packageDotJsonDeps;\n          }\n\n          // only concerned if module's package.json has a name, and if it is public on either NPM or Girhub\n          if (packageDotJsonContent.name && (!packageDotJsonContent.private || !packageDotJsonContent.privateFromGithub)) {\n            const slimModule = {\n              resource: module.resource,\n              context: module.context,\n              rawRequest: module.rawRequest,\n              dependencies: [],\n              depsSummary: {}\n            };\n            \n            module.dependencies.forEach((dep) => {\n              if (dep.module) {\n                const rawRequest = dep.module.rawRequest;\n                // not a relative dependency\n                if (rawRequest.indexOf('.') !== 0){\n                  const validationResult = validateNpmPackageName(rawRequest);\n                  const depToPush = {\n                    resource: dep.module.resource,\n                    context: dep.module.context,\n                    rawRequest: rawRequest,\n                    validationResult: validationResult,\n                  }\n                  if (validationResult.validForNewPackages) {\n                    // console.log(module.resource.split('/packages/')[0])\n                    // depToPush.summary = \"GOOD !!!!!!\";\n                    slimModule.depsSummary[rawRequest] = packageDotJsonDeps[rawRequest] || 'MISSING FROM PACKAGE.JSON';\n                    if (!packageDotJsonDeps[rawRequest]) {\n                      registerProblem(module.resource, rawRequest, 'MISSING FROM PACKAGE.JSON');\n                    }\n                    \n\n                  } else {\n                    // depToPush.summary = \"BAD #$**#$*\";\n                    slimModule.depsSummary[rawRequest] = 'BAD FORMATTING';\n                    registerProblem(module.resource, rawRequest, 'BAD FORMATTING');\n                  }\n                  slimModule.dependencies.push(depToPush);\n                }\n              }\n              // slimModule.dependencies.push(Object.keys(dep.module));\n              // slimModule.dependencies.push(dep.resource);\n              \n            });\n            toWrite.push(slimModule);\n          }\n        }\n      });\n\n      Object.keys(problems).forEach((moduleResource) => {\n        console.log('--------------');\n        console.log('moduleResource',moduleResource);\n        Object.keys(problems[moduleResource]).forEach((depName) => {\n          const problemMsg = problems[moduleResource][depName];\n          console.log('depName',depName);\n          console.log('problemMsg',problemMsg);\n        });\n      });\n\n      fs.writeFileSync(process.cwd()+'/stats.json', JSON.stringify(toWrite, null, 2));\n\n      // fs.writeFileSync(process.cwd()+'/stats.json', inspect(stats.compilation.modules));\n      // fs.writeFileSync(process.cwd()+'/stats.json', inspect(stats.compilation.modules[1].dependencies));\n    })\n    app.use(activeWebpackDevMiddleware);\n\n    app.use('/images', express.static('packages/images'));\n    app.use('/fonts', express.static('packages/fonts'));\n    // app.get(new RegExp('^[/](images|fonts)[/](.+)'), (req, res) => {\n    //   res.sendFile(path.join(__dirname, `packages${url.parse(req.url).pathname}`));\n    // });\n\n    // app.get('/*', (req, res) => {\n    //   console.log(url.parse(req.url).pathname);\n    //   res.sendFile(path.join(process.cwd(), 'index.html'));\n    // });\n\n    // app.get(new RegExp('/^\\/(.*)\\.html$'), (req, res) => {\n    //   res.sendFile(path.join(process.cwd(), 'index.html'));\n    // });\n\n    app.listen(port, (error) => {\n      if (error) {\n        console.error(error);\n      } else {\n        console.info(\n          '🌎 Listening on port %s. Open up http://localhost:%s/ in your browser.',\n          port,\n          port,\n        );\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./webpack.start.js","/*\n  This files return a function that when called generates a webpack config json.\n  `argv` is passed into this function.\n\n  when `argv.env === falsey`\n    This compiles for a dev server via webpack-dev-middleware.  No files are created to disk,\n    only created in memory.\n\n  when `argv.env === 'build'`\n    This compiles files to disk in a /dist folder and a /demo folder.\n\n  when `argv.env === 'node'`\n    Similar to 'build', but with special consideration for node environments.\n    Code from node_modules will not be bundled.\n\n  when `argv.dirroot === some path`\n    This is used when dev_env itself is compiled.  \n    This very file is compiled according the config set by this file.\n    This is needed to make dev_env portable via npm.\n    babel-node needs to compile this dev_env to work,\n    but this does not play well when dev_env is in a node_modules folder.\n    So we need to compile dev_env before publishing to npm.\n    Directory paths need to be tweaked to accomplish this,\n    and that's what `argv.dirroot` helps with.\n\n*/\n\nimport StatsPlugin from 'stats-webpack-plugin';\nimport StringReplacePlugin from 'string-replace-webpack-plugin';\nimport webpack from 'webpack';\nimport jsonImporter from 'node-sass-json-importer';\nimport ExtractTextPlugin from 'extract-text-webpack-plugin';\nimport HtmlWebpackPlugin from 'html-webpack-plugin';\nimport DirectoryNamedWebpackPlugin from 'directory-named-webpack-plugin';\nimport nodeExternals from 'webpack-node-externals';\nimport globby from 'globby';\nimport fs from 'fs-extra';\nimport path from 'path';\nconst devHtmlPath = './index.html';\n\nexport default (argv) => {\n  const env = argv.env;\n\n  const dirRoot = argv.dirroot || process.cwd();\n\n  const packageJson = fs.readJsonSync(`${dirRoot}/package.json`);\n\n  let username = null;\n  if (packageJson.repository && packageJson.repository.url) {\n    username = packageJson.repository.url.replace('://').split('/')[1];\n  }\n\n  const libraryName = packageJson.name;\n  const libraryNameReduced = libraryName.split('/')[1] || libraryName.split('/')[0];\n\n  const plugins = [];\n  const pluginRegistry = {};\n  function registerPlugin(name, plugin) {\n    if (!pluginRegistry[name]) {\n      plugins.push(plugin);\n      pluginRegistry[name] = true;\n      return true;\n    }\n    return false;\n  }\n\n  function conditionalExtractTextLoaderCss(usePlugin, moreLoaderParams) {\n    if (usePlugin) {\n      registerPlugin('ExtractTextPlugin', new ExtractTextPlugin('[name].css'));\n      return { use: ExtractTextPlugin.extract(moreLoaderParams) };\n    }\n    return {\n      use: [moreLoaderParams.fallback, ...moreLoaderParams.use],\n    };\n  }\n\n  const outputFiles = {};\n  if (env === 'node') {\n    outputFiles.library = `dist/${libraryNameReduced}`;\n  } else if (env === 'build') {\n    outputFiles.library = `dist/${libraryNameReduced}`;\n    outputFiles.libraryMin = `dist/${libraryNameReduced}.min`;\n    outputFiles.demo = 'demo/index';\n  } else {\n    outputFiles.demo = 'boot';\n    outputFiles.library = `${libraryNameReduced}`;\n  }\n  const entryFiles = {\n    MainApp: globby.sync([`${dirRoot}/packages/MainApp/MainApp.js`]),\n    [outputFiles.library]: globby.sync([\n      `${dirRoot}/${libraryNameReduced}.js`,\n      `${dirRoot}/src/library/index.js`\n    ]),\n    ...(\n      outputFiles.libraryMin ? {\n        [outputFiles.libraryMin]: globby.sync([`${dirRoot}/src/library/index.js`]),\n      } : {}\n    ),\n    [outputFiles.demo]: globby.sync([\n      `${dirRoot}/*.demo.js`,\n      `${dirRoot}/demo.js`,\n      `${dirRoot}/**/*/*.demo.js`,\n      `${dirRoot}/**/*/demo.js`,\n      `!${dirRoot}/packages/**/*`,\n      `${dirRoot}/packages/MainApp/MainApp.js`,\n    ]),\n  };\n  const entry = Object.keys(entryFiles).reduce((accum, entryName) => {\n    if (entryFiles[entryName].length) {\n      accum[entryName] = entryFiles[entryName];\n    }\n    return accum;\n  }, {});\n\n  // entry[outputFiles.library] = entryFiles.library;\n  // if (outputFiles.libraryMin) {\n  //   entry[outputFiles.libraryMin] = entryFiles.library;\n  // }\n  // entry[outputFiles.demo] = entryFiles.demo;\n\n  // if (isLerna) {\n  //   // /Users/brianephraim/Sites/todos-tacos/packages/MainApp/MainApp.js\n  //   entry = {\n  //     MainApp: './packages/MainApp/MainApp.js',\n  //   };\n  // }\n\n  function moveModify(source, modifyPath, modifyContent) {\n    let sources = [];\n    if (typeof source === 'object') {\n      sources = source;\n    } else {\n      sources.push(source);\n    }\n    let toCopy = [];\n    sources.forEach((pattern) => {\n      toCopy = [\n        ...toCopy,\n        ...globby.sync(pattern),\n      ];\n    });\n    toCopy.forEach((filePath) => {\n      let filePathOut = filePath;\n      if (modifyPath) {\n        filePathOut = modifyPath(filePath);\n      }\n      let content = fs.readFileSync(filePath, 'utf8');\n      if (modifyContent) {\n        content = modifyContent(content, filePath, filePathOut);\n      }\n      fs.outputFileSync(filePathOut, content);\n    });\n  }\n\n  if (env === 'build' || env === 'node') {\n    moveModify(['src/import-examples/**/!(webpack.config).*', 'src/tonicExample.js'], (filePath) => {\n      return filePath.replace('src/', './');\n    },\n    (content) => {\n        return content.replace(/LIBRARYNAME/g, libraryName);\n    });\n\n    registerPlugin('UglifyJsPlugin', new webpack.optimize.UglifyJsPlugin({\n      include: /\\.min\\.js$/,\n      minimize: true,\n    }));\n    const indexHtmlSettings = {\n      chunks: [outputFiles.demo],\n      template: 'src/demo/index.ejs',\n      title: 'afasdfasdfasd',\n      username,\n      libraryName,\n    };\n    registerPlugin('demoIndex-HtmlWebpackPlugin', new HtmlWebpackPlugin({\n      filename: './demo/index.html',\n      ...indexHtmlSettings,\n    }));\n    registerPlugin('rootIndex-HtmlWebpackPlugin', new HtmlWebpackPlugin({\n      filename: './index.html',\n      ...indexHtmlSettings,\n    }));\n  } else {\n    registerPlugin('demoDevIndex-HtmlWebpackPlugin', new HtmlWebpackPlugin({\n      chunks: [outputFiles.demo],\n      filename: devHtmlPath,\n    }));\n\n    console.log('STATS')\n    console.log('STATS')\n    console.log('STATS')\n    console.log('STATS')\n    console.log('STATS')\n    console.log('STATS')\n    console.log('STATS')\n    registerPlugin('statsPlugin', new StatsPlugin('stats.json', {\n      chunkModules: true,\n      exclude: [/node_modules[\\\\\\/]react/]\n    }));\n  }\n  registerPlugin('StringReplacePlugin', new StringReplacePlugin());\n\n  registerPlugin('LoaderOptionsPlugin', new webpack.LoaderOptionsPlugin({\n    options: {\n      sassLoader: {\n        importer: jsonImporter,\n      },\n      context: dirRoot,\n    },\n  }));\n\n  const config = {\n    entry,\n    devtool: env === 'build' || env === 'node' ? 'source-map' : 'eval',\n    output: {\n      path: `${dirRoot}`,\n      filename: '[name].js',\n      library: libraryName,\n      libraryTarget: 'umd',\n      umdNamedDefine: true,\n      publicPath: '/',\n      // publicPath: '/assets/',\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.(js)?$/,\n          loader: 'babel-loader',\n          exclude: /node_modules/,\n          // include: `${dirRoot}`,\n          options: {\n            presets: [\n\n              [\n                'es2015',\n                // needed for tree shaking\n                { modules: false },\n              ],\n              'react',\n              // 'react',\n            ],\n            plugins: [\n              'transform-es2015-spread',\n              'transform-object-rest-spread',\n            ],\n            // mocha needs .babelrc,\n            // and .babelrc cannot use the above config\n            // so ignore .babelrc here\n            babelrc: false,\n          },\n        },\n        {\n          test: /\\.css$/,\n          ...conditionalExtractTextLoaderCss(env === 'build' || env === 'node', {\n            fallback: 'style-loader',\n            use: ['css-loader'],\n          }),\n        },\n        {\n          test: /\\.scss$/,\n          ...conditionalExtractTextLoaderCss(env === 'build' ||  env === 'node', {\n            fallback: 'style-loader',\n            use: [\n              'css-loader?sourceMap',\n              {\n                loader: 'sass-loader?sourceMap',\n                // Apply the JSON importer via sass-loader's options.\n                options: {\n                  importer: jsonImporter,\n                },\n              },\n            ],\n          }),\n        },\n        {\n          test: /\\.json$/,\n          loaders: ['json-loader'],\n        },\n        {\n          test: /\\.ejs$/,\n          loader: 'ejs-compiled-loader',\n        },\n        {\n          test: /\\.md/,\n          loaders: ['html-loader', 'markdown-loader'],\n        },\n        {\n          test: /\\.js|\\.html|\\.ejs$/,\n          exclude: [__filename],\n          loader: StringReplacePlugin.replace({\n            replacements: [{\n              pattern: /LIBRARYNAME/g,\n              replacement(/* match, p1, offset, string */) {\n                return libraryName;\n              },\n            }],\n          }),\n        },\n      ],\n    },\n    resolve: {\n      modules: [\n        path.resolve('./src/library'),\n        path.resolve(process.cwd(), 'packages'),\n        // path.resolve('./packages'),\n        'node_modules',\n      ],\n      extensions: ['.js'],\n      plugins: [\n        new DirectoryNamedWebpackPlugin(true),\n      ],\n    },\n    // stats: 'verbose',\n    plugins,\n    ...(\n      env === 'node' ? {\n        target: 'node',\n        node: {\n          __dirname: false,\n          __filename: false,\n        },\n        externals: [nodeExternals({modulesFromFile: true})],\n      } : {}\n    ),\n  };\n\n  fs.writeFileSync('./_webpack-config-preview.json', JSON.stringify(config, null, 2));\n  return config;\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./generate.webpack.config.babel.js","module.exports = require(\"child_process\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"child_process\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"directory-named-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"directory-named-webpack-plugin\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"extract-text-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"extract-text-webpack-plugin\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"globby\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"globby\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"html-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"html-webpack-plugin\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"node-sass-json-importer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-sass-json-importer\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"stats-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"stats-webpack-plugin\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"string-replace-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"string-replace-webpack-plugin\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"url\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"validate-npm-package-name\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"validate-npm-package-name\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"webpack-dev-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-dev-middleware\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"webpack-node-externals\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-node-externals\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"yargs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"yargs\"\n// module id = 21\n// module chunks = 0"],"sourceRoot":""}