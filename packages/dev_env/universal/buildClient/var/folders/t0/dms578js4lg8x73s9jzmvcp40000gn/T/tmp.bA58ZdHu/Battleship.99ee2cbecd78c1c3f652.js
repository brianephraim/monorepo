webpackJsonp([2],{"+xzp":function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("jpCe"),o=e.n(n);for(var i in n)["default","default"].indexOf(i)<0&&function(t){e.d(r,t,function(){return n[t]})}(i);r.default=o.a},"7qUK":function(t,r,e){"use strict";t.exports=function(t,r){for(var e=[],n=t;n<=r;)e.push(n++);return e}},S2Pe:function(t,r,e){"use strict";t.exports=function(t,r,e){for(var n=""+t;n.length<r;)n=""+e+n;return n}},WCkC:function(t,r,e){"use strict";var n=e("vigk");t.exports=function(t,r){if(r){var e=[],o=t[0].length;return t.forEach(function(t){e=e.concat(t)}),{array:e,width:o}}var i=[],a=t.length;return t.forEach(function(t,r){t.forEach(function(t,e){var o=n(r,e,a);i[o]=t})}),{array:i,width:a}}},Wdpm:function(t,r,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function i(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?t:r}function a(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function t(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(r,e,n){return e&&t(r.prototype,e),n&&t(r,n),r}}(),u=function t(r,e,n){null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,e);if(void 0===o){var i=Object.getPrototypeOf(r);return null===i?void 0:t(i,e,n)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(n)},c=e("U7vG"),l=n(c),f=e("l1d2"),d=n(f),p=e("g4Ee"),h=e("wHKe"),y=n(h),g=function(t){function r(){var t;o(this,r);for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];var s=i(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(n)));return s.onUpdateCbs=[],s}return a(r,t),s(r,[{key:"onUpdate",value:function(t){this.onUpdateCbs.push(t)}},{key:"update",value:function(){for(var t,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];(t=u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"update",this)).call.apply(t,[this].concat(n)),this.onUpdateCbs.forEach(function(t){t()})}}]),r}(d.default),v=function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.state={placementLog:[]},t}return a(r,t),s(r,[{key:"componentWillMount",value:function(){var t=this;this.board=new g(10,10),this.board.onUpdate(function(){t.setState({stringGrid:t.board.getStringGrid(),gridAsArray:t.board.gridAsArray,width:t.board.width})});var r=[this.board.place([{col:2,row:4,content:{size:3,value:"#"},isHorizontal:!1},{col:3,row:4,content:["&","&","&","&"],isHorizontal:!0}]),this.board.place([{col:2,row:5,content:["#","#","#"],isHorizontal:!0}]),this.board.place([{col:8,row:0,content:["#","#","#"],isHorizontal:!0}]),this.board.place([{col:0,row:8,content:{size:3,value:"#"},isHorizontal:!1}])],e=r.reduce(function(t,r){return t.concat([r.success?"success":r.error])},[]);this.setState({placementLog:this.state.placementLog.concat(e)}),this.board.update()}},{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement(y.default,{to:"todos/all"},"todos"),l.default.createElement(y.default,{to:"/boomer/ut/original-21313-1402070821-131504902837890/354_161_305_305_1200_1200/c2kkzyyg92seahxcoml1"},"BOOMER"),l.default.createElement("h2",null,"Battleship"),l.default.createElement("pre",null,this.state.stringGrid),l.default.createElement("h4",null,"gridAsArrayxxxxxxxxx"),l.default.createElement("p",null,JSON.stringify(this.state.gridAsArray)),l.default.createElement("h4",null,"gridAsArray - compose1DArrayInto2DGrid (is array of cols)"),l.default.createElement("p",null,this.state.gridAsArray&&JSON.stringify((0,p.compose1DArrayInto2DGrid)(this.state.width,this.state.gridAsArray))),l.default.createElement("h4",null,"gridAsArray - compose1DArrayInto2DGrid (is array of cols) - compose2DGridArrayInto1DAndWidth"),l.default.createElement("p",null,this.state.gridAsArray&&JSON.stringify((0,p.compose2DGridArrayInto1DAndWidth)((0,p.compose1DArrayInto2DGrid)(this.state.width,this.state.gridAsArray)))),l.default.createElement("h4",null,"gridAsArray - compose1DArrayInto2DGrid (is array of rows)"),l.default.createElement("p",null,this.state.gridAsArray&&JSON.stringify((0,p.compose1DArrayInto2DGrid)(this.state.width,this.state.gridAsArray,!0))),l.default.createElement("h4",null,"gridAsArray - compose1DArrayInto2DGrid (is array of rows) - compose2DGridArrayInto1DAndWidth"),l.default.createElement("p",null,this.state.gridAsArray&&JSON.stringify((0,p.compose2DGridArrayInto1DAndWidth)((0,p.compose1DArrayInto2DGrid)(this.state.width,this.state.gridAsArray,!0),!0))),l.default.createElement("h4",null,"Placement log"),l.default.createElement("p",null,JSON.stringify(this.state.placementLog)))}}]),r}(c.Component);v.propTypes={},r.default=v},"YJ+m":function(t,r,e){"use strict";var n=e("zQci");t.exports=function(t){return t.placements.reduce(function(r,e){return n(Object.assign({},t,e,{gridAsArray:r}))},t.gridAsArray.slice(0))}},Z20h:function(t,r,e){"use strict";t.exports=function(t,r){var e=Math.floor(t/r);return{col:t-r*e,row:e}}},cfN8:function(t,r,e){"use strict";t.exports=function(t,r){return Array(t).fill(r)}},g4Ee:function(t,r,e){"use strict";var n=e("cfN8");t.exports.initializeHomogenousArray=n;var o=e("vigk");t.exports.getIndexFromCoords=o;var i=e("Z20h");t.exports.getCoordsFromIndex=i;var a=e("kCRl");t.exports.compose1DArrayInto2DGrid=a;var s=e("WCkC");t.exports.compose2DGridArrayInto1DAndWidth=s;var u=e("jfNH");t.exports.makeStringGridFrom1DArrayAndWidth=u;var c=e("7qUK");t.exports.createNumberIncrementArray=c;var l=e("S2Pe");t.exports.padCharacter=l;var f=e("zQci");t.exports.placeOneSegmentOnGridArray=f;var d=e("YJ+m");t.exports.placeSegmentsOnGridArray=d},jfNH:function(t,r,e){"use strict";t.exports=function(t,r,e){return t.reduce(function(t,n,o){var i=(o+1)/r%1==0,a=i?"\n":" ";return""+t+(e?e(n):n)+a},"")}},jpCe:function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.routeData=void 0;var n=e("Wdpm"),o=function(t){return t&&t.__esModule?t:{default:t}}(n);r.default=o.default;var i={routesMap:{BATTLESHIP:"/battleship"},routeRootComponent:o.default,reducers:{}};r.routeData=i},kCRl:function(t,r,e){"use strict";var n=e("Z20h");t.exports=function(t,r,e){return r.reduce(function(r,o,i){var a=n(i,t);return e||(a={row:a.col,col:a.row}),r[a.row]||(r[a.row]=[]),r[a.row][a.col]=o,r},[])}},l1d2:function(t,r,e){"use strict";function n(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(r,e,n){return e&&t(r.prototype,e),n&&t(r,n),r}}(),a=e("g4Ee"),s=a.createNumberIncrementArray,u=a.placeSegmentsOnGridArray,c=a.makeStringGridFrom1DArrayAndWidth,l=a.padCharacter,f=a.getIndexFromCoords,d=function(){function t(r,e){n(this,t),this.width=r,this.height=e;var o=this.width*this.height;this.gridAsArray=s(0,o-1),this.placements=[]}return i(t,[{key:"update",value:function(t){t&&Object.assign(this,t)}},{key:"place",value:function(t){try{var r=u({gridAsArray:this.gridAsArray,width:this.width,placements:t,validate:function(t){return"number"==typeof t||"Overlapping placements."}});return this.update({gridAsArray:r,placements:this.placements.concat(t)}),{success:!0}}catch(t){return{error:t}}}},{key:"getRemainingShips",value:function(){return this.placements.reduce(function(t,r){var e=r.content[0].ship;return e&&(t+=e.remainingCells>0?1:0),t},0)}},{key:"attack",value:function(t,r){if(t>this.width-1)return"Too far right";if(r>this.height-1)return"Too far down";var e=f(t,r,this.width),n=this.gridAsArray[e];if(n&&n.ship){var o=n.attack();return 0===this.getRemainingShips()?"all sunk":0===n.ship.remainingCells?"sunk":1===o?"hit":"miss"}return"miss"}},{key:"getStringGrid",value:function(){var t=(""+this.gridAsArray[this.gridAsArray.length-1]).length;return c(this.gridAsArray,this.width,function(r){return"number"==typeof r?l(r,t,"0"):l("object"===(void 0===r?"undefined":o(r))?"O":r,t,"_")})}}]),t}();r.default=d},vigk:function(t,r,e){"use strict";t.exports=function(t,r,e){var n=Math.floor(r*e+t);if(t>e-1)throw"Too far right.";return n}},zQci:function(t,r,e){"use strict";var n=e("cfN8"),o=e("vigk");t.exports=function(t){var r=t.gridAsArray,e=t.width,i=t.col,a=t.row,s=t.content,u=t.isHorizontal,c=t.validate;return(Array.isArray(s)?s:n(s.size,s.value)).reduce(function(t,r,n){var s=u?i+n:i,l=u?a:a+n,f=o(s,l,e);if(f>t.length-1)throw"Too far down.";var d=t[f];if(c){var p=c(d);if(!p)throw"validation failed";if("string"==typeof p)throw p}return t[f]=r,t},r.slice(0))}}});
//# sourceMappingURL=Battleship.99ee2cbecd78c1c3f652.js.map